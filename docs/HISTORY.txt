Changelog
=========

1.8 (unreleased)
----------------

- Strip searchtext before trying to lookup short code

- Post-process CNXML+ to HTML transform to lift img elements out of
  object elements and changed CSS to center-align.

- Unifyied qaviewlet in theme too.

- Migration steps:
  Re-install the product to update the viewlet registrations.

1.7
---

- Add missing fields to EmasUserDataPanelAdapter.

- Wrote wrapper for asciimathml.parse method since it does not conform
  to the ASCIIMathML specification.

- Eventhandler should only create transaction folder if it does not exist.

- Payservice viewlets now pay attention to service costs too.

- Use only datetime.date not DateTime in payservice viewlets.

- Add overlays and js for payservice registration (remember to run profile).

- Proxy for Monassis practice service

- Set registration dates to 'datetime.date' objects instead of
  'DateTime' objects. Editing and saving existing users will set their
  registration dates correctly too.

- Added rolemap.xml to give correct roles 'Question' and 'Answer' create permissions.
  Rebuild the instance and then reinstall to get the functionality working.

- Disable annotator roundup store

- Don't show payservice viewlets to 'expert' members.

- Update payservice browser view templates in order to handle different:
  scenarios of:
  - credits vs registration vs roles

- Bugfix to shortcodehtml2html.py that leaves out math node tail.

- Bugfix to shortcodehtml2html.py fails on empty span:
  <span class="AMcontainer"></span>

- Refactor "Ask an expert" service so that questions are purchased
  directly without have to buy credits and then subscribe.

- Added <latex> element to CNXML+ to CNXML transform.

- Specialise the siyavula.what viewlet to check if the service is
  enabled and to deduct a credit for each question asked.

- Fix annotator help panel CSS.

- Bugfix to pspicture generator hash, and deprecated v1.0.

- Updated transform to number problems and answers in exercises and to
  support CNXML+ v0.1.

1.6
---

- Updated transform to embed shortcodes as div ids.

1.5
---

- Convert ASCIIMath to MathML

- don't publish all folders in setupPortalContent setup handler

1.4
---

- Implemented version 1.1 of pspicture path generator in transform.

- Factored out number formatting in transform.

1.3
---

- Fix annotator CSS

- Fix rhaptos.xmlfile behaviours

1.2
---

- Fixed bug that does not find FullMarks multiple choice answers.

1.1
---

- Added box environment to cnxmlplus transform

- Added transform for TikZ pictures.

- Add base tag to theme to get password reset to work

- Hide the dashboard action for users

- Point preference action to @@personal-information

- Register UserDataSchema adapter for INavigationRoot to allow users to
  change their personal information

1.0
---

- Initial release
