<html metal:use-macro="here/main_template/macros/master"
      i18n:domain="emas.theme">
<body>
    <div metal:fill-slot="main"
         tal:define="error request/error|nothing">

        <metal:register-macro define-macro="register-macro">
            <div id="status-message"></div>
            <tal:defs define="dummy python:request.response.setHeader('X-Theme-Disabled', 'True');
                              has_credits view/has_credits;
                              servicecost view/servicecost;
                              is_registered view/is_registered;
                              is_expert view/is_expert;">
                            
                <div class="payservice-form" tal:condition="python:not has_credits and not is_registered">
                    <span metal:use-macro="context/@@emas-credits/index/macros/buy-credits">
                        <metal:heading fill-slot="heading">
                            <h1>Number of questions to purchase</h1>
                        </metal:heading>
                        <metal:button-slot fill-slot="button-slot">
                        <input type="hidden" id="view_url" name="view_url" value="@@register-to-ask-questions" />
                        <button class="context" name="form.button.buy"
                            value="Buy" onclick="buyQuestions(event);">
                            Buy
                        </button>
                        <button type="cancel" class="context" name="form.button.cancel"
                            value="Cancel">
                            Cancel
                        </button>
                        </metal:button-slot>
                    </span>
                </div>

                <div id="pay-success" style="display:none">
                    <button type="continue" class="context"
                        name="form.button.continue"
                        value="Continue">Continue
                    </button>
                </div>
            </tal:defs>        
        </metal:register-macro>

    </div>
</body>
</html>
